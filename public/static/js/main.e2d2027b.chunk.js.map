{"version":3,"sources":["images/add__button.svg","images/edit__button.svg","contexts/CurrentUserContext.js","images/Trash.svg","components/Card.js","components/Main.js","images/logo.svg","components/Header.js","components/Footer.js","images/close__icon.svg","components/PopupWithForm.js","components/ImagePopup.js","utils/api.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["CurrentUserContext","React","createContext","Card","props","userInfo","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","className","onClick","onCardClick","src","link","alt","name","onCardDelete","type","cardDeleteButtonPath","onCardLike","length","Main","style","backgroundImage","avatar","onEditAvatar","about","onEditProfile","profileEditButtonPath","onAddPlace","addButtonPath","cards","map","data","onCardImageClick","Header","logoPath","Footer","PopupWithForm","isOpen","onSubmit","noValidate","onClose","closePopupImagePath","title","children","ImagePopup","api","options","this","headers","baseUrl","res","ok","json","Promise","reject","status","fetch","then","_handleOriginalResponse","catch","err","console","log","profileInfo","method","body","JSON","stringify","profession","newCard","cardId","newAvatar","authorization","EditProfilePopup","useEffect","setName","setDescription","useState","description","e","preventDefault","onUpdateUser","value","onChange","target","id","minLength","maxLength","placeholder","autoComplete","required","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","ref","defaultValue","AddPlacePopup","url","setUrl","App","currentUser","setCurrentUser","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","selectedCard","setSelectedCard","isImagePopupOpen","setIsImagePopupOpen","setCards","closeAllPopups","getUserInfo","getInitialCards","Provider","handleCardClick","deleteLikeToCard","newCards","c","likeToCard","deleteCard","deletedCard","filter","item","cardFilter","editUserInfo","changeProfileAvatar","postNewCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e2d2027b.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/add__button.d86bb2ed.svg\";","export default __webpack_public_path__ + \"static/media/edit__button.8667ac4a.svg\";","import React from 'react';\nexport const CurrentUserContext = React.createContext();\n","export default __webpack_public_path__ + \"static/media/Trash.a274c87c.svg\";","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\nimport cardDeleteButtonPath from \"../images/Trash.svg\";\n\n\nfunction Card(props) {\n\n  const userInfo = React.useContext(CurrentUserContext);\n    function handleClick() {\n        props.onCardClick(props.card);\n      }  \n    // Определяем, являемся ли мы владельцем текущей карточки\n    const isOwn = props.card.owner._id === userInfo._id;\n\n    // Создаём переменную, которую после зададим в `className` для кнопки удаления\n    const cardDeleteButtonClassName = (\n      `${isOwn ? 'element__delete-button' : 'element__delete-button_disabled'}`\n    ); \n\n    // Определяем, есть ли у карточки лайк, поставленный текущим пользователем\n    const isLiked = props.card.likes.some(i => i._id === userInfo._id);\n\n    // Создаём переменную, которую после зададим в `className` для кнопки лайка\n    const cardLikeButtonClassName = `${isLiked ? 'element__like-button element__like-button_active' : 'element__like-button'}`; \n      return (\n    <div className=\"element\">\n      <img onClick={handleClick} src={props.card.link} alt={props.card.name} className=\"element__image\" />\n      <button onClick={() => { props.onCardDelete(props.card)}} className={cardDeleteButtonClassName} type=\"button\">\n        <img src={cardDeleteButtonPath} alt=\"Удалить\" /></button>\n      <div className=\"element__description\">\n        <h3 className=\"element__title\">{props.card.name}</h3>\n        <div className=\"element__likes\">\n        <button onClick={() => props.onCardLike(props.card)} className={cardLikeButtonClassName} type=\"button\">\n        </button>\n        <p className=\"element__number-of-likes\">{props.card.likes.length}</p>\n      </div>\n      </div>\n    </div>\n)\n\n}\n\nexport default Card;","import React from 'react';\nimport addButtonPath from '../images/add__button.svg';\nimport profileEditButtonPath from '../images/edit__button.svg';\nimport Card from './Card';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\n\nfunction Main(props) {\n  const userInfo = React.useContext(CurrentUserContext);\n\n\n\n\n  \n  return (\n    <main className=\"page__container\">\n    <section className=\"profile\">\n      <div className=\"profile__flex-container\">\n        <div className=\"profile__image-container\" style={{ backgroundImage: `url(${userInfo.avatar})` }}>\n          <div className=\"profile__edit-avatar-button-container\">\n            <button onClick={props.onEditAvatar} className=\"profile__edit-avatar-button\"></button>\n          </div>\n        </div>\n        <div className=\"profile__info-container\">\n          <div className=\"profile__info\">\n              <h1 className=\"profile__name\">{userInfo.name}</h1>\n              <p className=\"profile__profession\">{userInfo.about}</p>\n          </div>\n          <button onClick={props.onEditProfile} className=\"profile__edit-button\" type=\"button\">\n            <img src={profileEditButtonPath} alt=\"Редактировать\" className=\"profile__edit-button-image\" />\n          </button>\n        </div>\n      </div>\n      <button onClick={props.onAddPlace} className=\"profile__add-button\" type=\"button\">\n        <img src={addButtonPath} alt=\"Добавить\" className=\"profile__add-button-image\" />\n      </button>\n    </section>\n    <section className=\"elements\">\n        {props.cards.map((card, i) => (\n        <Card \n        onCardLike={(data) => props.onCardLike(data)}\n        onCardClick={props.onCardClick} \n        onCardDelete={(data) => props.onCardDelete(data)}\n        card={card} key={card._id} \n        onCardImageClick={props.onCardImageClick} />))}\n    </section>\n  </main>\n  );\n}\n\nexport default Main;","export default __webpack_public_path__ + \"static/media/logo.a307e1c4.svg\";","import React from 'react';\nimport logoPath from '../images/logo.svg';\nfunction Header() {\n  return (\n    <header className=\"header\">\n        <img src={logoPath} alt=\"Логотип страницы Место\" className=\"header__logo\" />\n    </header>\n  );\n}\n\nexport default Header;","import React from 'react';\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">&#169; 2020 Mesto Russia</p>\n    </footer>\n  );\n}\n\nexport default Footer;","export default __webpack_public_path__ + \"static/media/close__icon.118074ba.svg\";","import React from 'react';\nimport closePopupImagePath from '../images/close__icon.svg';\n\nfunction PopupWithForm(props) {\n    return(\n        <div className={`popup popup_type_${props.isOpen && props.name} ${props.isOpen && 'popup_opened'}`}>\n            <form onSubmit={props.onSubmit} className=\"popup__form popup__cantainer popup__form_profile\" name={props.name} noValidate>\n                <button onClick={props.onClose} className=\"popup__close-button\" type=\"reset\">\n                    <img className=\"popup__close-button-image\" src={closePopupImagePath} alt=\"Закрыть\" />\n                </button>\n                <div className=\"popup__container\">\n                    <h3 className=\"popup__title\">{props.title}</h3>\n                    {props.children}\n                    <button className=\"popup__submit-button\" type=\"submit\">Сохранить</button>\n                </div>\n            </form>\n        </div>\n    )\n}\n\n\nexport default PopupWithForm;","import React from 'react';\n\nimport closePopupImagePath from '../images/close__icon.svg';\n\nfunction ImagePopup(props) {\n    \n    //if (props.isOpen) {\n\n        return(\n        <div className={`popup popup_type_image ${props.isOpen && 'popup_opened'}`}>\n        <div className=\"popup__cantainer popup__image-container\">\n        <button onClick={props.onClose} className=\"popup__close-button\" type=\"reset\">\n            <img className=\"popup__close-button-image\" src={closePopupImagePath} alt=\"Закрыть\" />\n        </button>\n        <img src={props.card.link} alt={props.card.name} className=\"popup__image\" />\n        <h3 className=\"popup__image-title\">{props.card.name}</h3>\n        </div>\n        </div>\n    )\n//    } \n//     else {\n//         return(\n//             null\n//         )\n//     }\n}\nexport default ImagePopup;","class Api {\n  constructor(options) {\n    this.headers = options.headers;\n    this.baseUrl = options.baseUrl;\n  }\n  _handleOriginalResponse(res) {\n    if(res.ok) {return res.json()}\n      return Promise.reject(`Ошибка: ${res.status}`);\n  }\n  getInitialCards() {\n    return fetch(`${this.baseUrl}/cards`, {\n      headers: this.headers\n    })\n    .then(this._handleOriginalResponse)\n    .catch((err) => {\n      console.log(err)\n    })\n  }\n  getUserInfo() {\n    return fetch(`${this.baseUrl}/users/me`, {\n      headers: this.headers\n    })\n    .then(this._handleOriginalResponse)\n    .catch((err) => {\n      console.log(err)\n    })\n  }\n  editUserInfo(profileInfo) {\n    return fetch(`${this.baseUrl}/users/me`, {\n      method: 'PATCH',\n      headers: this.headers,\n      body: JSON.stringify({\n        name: profileInfo.name,\n        about: profileInfo.profession\n      })\n    })\n    .then(this._handleOriginalResponse)\n    .catch((err) => {\n      console.log(err)\n    })\n  }\n  postNewCard(newCard) {\n    return fetch(`${this.baseUrl}/cards`, {\n      method: 'POST',\n      headers: this.headers,\n      body: JSON.stringify({\n        name: newCard.name,\n        link: newCard.link\n      })\n    })\n    .then(this._handleOriginalResponse)\n    .catch((err) => {\n      console.log(err)\n    })\n  }\n  likeToCard(cardId) {\n    return fetch(`${this.baseUrl}/cards/likes/${cardId}`, {\n      method: 'PUT',\n      headers: this.headers\n    })\n    .then(this._handleOriginalResponse)\n    .catch((err) => {\n      console.log(err)\n    })\n  }\n  deleteLikeToCard(cardId) {\n    return fetch(`${this.baseUrl}/cards/likes/${cardId}`, {\n      method: 'DELETE',\n      headers: this.headers\n    })\n    .then(this._handleOriginalResponse)\n    .catch((err) => {\n      console.log(err)\n    })\n  }\n  deleteCard(cardId) {\n    return fetch(`${this.baseUrl}/cards/${cardId}`, {\n      method: 'DELETE',\n      headers: this.headers\n    })\n    .then(this._handleOriginalResponse)\n    .catch((err) => {\n      console.log(err)\n    })\n  }\n  changeProfileAvatar(newAvatar) {\n    return fetch(`${this.baseUrl}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this.headers,\n      body: JSON.stringify({\n        avatar: newAvatar.avatar\n      })\n    })\n    .then(this._handleOriginalResponse)\n    .catch((err) => {\n      console.log(err)\n    })\n  }\n}\n//123\nconst api = new Api({\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-17',\n  headers: {\n    authorization: 'de61a249-d226-492b-a95f-5f9f0d2e5b0c',\n    'Content-Type': 'application/json'\n  }\n});\nexport default api;\n","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\nimport PopupWithForm from './PopupWithForm';\n\n\nfunction EditProfilePopup(props) {\n    const userInfo = React.useContext(CurrentUserContext);\n    \n    React.useEffect(() => {\n        setName(userInfo.name || '');\n        setDescription(userInfo.about || '');\n      }, [userInfo]); \n    const [name, setName] = React.useState('');\n    const [description, setDescription] = React.useState('');\n\n    function handleChangeName(e) {\n        setName(e.target.value);\n    }\n    function handleChangeDescription(e) {\n        setDescription(e.target.value);\n    }\n    function handleSubmit(e) {\n        // Запрещаем браузеру переходить по адресу формы\n        e.preventDefault();\n\n        // Передаём значения управляемых компонентов во внешний обработчик\n        props.onUpdateUser({\n          name,\n          profession: description,\n        });\n        props.onClose();\n      } \nreturn (\n    <PopupWithForm onSubmit={handleSubmit} isOpen={props.isOpen} onClose={props.onClose}>\n        <label className=\"popup__lable\">\n            <input value={name} onChange={handleChangeName} id=\"profile-name\" className=\"popup__input popup__input_name\" type=\"text\" name=\"name\" minLength=\"2\" maxLength=\"40\" placeholder=\"Имя\" autoComplete=\"off\" required />\n            <span className=\"popup__error\" id=\"name-error\">Вы пропустили это поле</span>\n        </label>\n        <label className=\"popup__lable\">\n            <input value={description} onChange={handleChangeDescription} id=\"profile-profession\" className=\"popup__input popup__input_profession\" type=\"text\" name=\"profession\" minLength=\"2\" maxLength=\"400\" placeholder=\"О себе\" autoComplete=\"off\" required />\n            <span className=\"popup__error\" id=\"profession-error\">Вы пропустили это поле</span>\n        </label>\n    </PopupWithForm>\n)}\nexport default EditProfilePopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditAvatarPopup(props) {\n    const avatarRef = React.useRef();\n\n    function handleSubmit(e) {\n        e.preventDefault();\n        props.onUpdateAvatar({\n            avatar: avatarRef.current.value\n        })\n        avatarRef.current.value=''\n        props.onClose()\n    }\n    return (\n        <PopupWithForm onSubmit={handleSubmit} onClose={props.onClose} isOpen={props.isOpen} title=\"Обновить аватар\" name=\"edit-avatar\">\n        <label className=\"popup__lable\">\n          <input ref={avatarRef} id=\"card-title\" className=\"popup__input popup__input_place\" type=\"url\" name=\"avatar\" minLength=\"1\" defaultValue=\"\" placeholder=\"Ссылка на изображение\" autoComplete=\"off\" required />\n          <span className=\"popup__error\" id=\"title-error\">Вы пропустили это поле</span>\n        </label>\n      </PopupWithForm>\n    )\n}\n\nexport default EditAvatarPopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction AddPlacePopup(props) {\n    \n    const [name, setName] = React.useState('');\n    const [url, setUrl] = React.useState('');\n\n    function handleChangeName(e) {\n        setName(e.target.value);\n    }\n    function handleChangeUrl(e) {\n        setUrl(e.target.value);\n    }\n    function handleSubmit(e) {\n        // Запрещаем браузеру переходить по адресу формы\n        e.preventDefault();\n\n        // Передаём значения управляемых компонентов во внешний обработчик\n        props.onAddPlace({\n          name,\n          link: url,\n        });\n        setName('');\n        setUrl('');\n        props.onClose();\n      }\n    return (\n        <PopupWithForm onSubmit={handleSubmit} onClose={props.onClose} isOpen={props.isOpen} title=\"Новое место\" name=\"edit-card\">\n          <label className=\"popup__lable\">\n            <input value={name} onChange={handleChangeName} id=\"card-title\" className=\"popup__input popup__input_place\" type=\"text\" name=\"name\" minLength=\"1\" maxLength=\"30\" placeholder=\"Название\" autoComplete=\"off\" required />\n            <span className=\"popup__error\" id=\"title-error\">Вы пропустили это поле</span>\n          </label>\n          <label className=\"popup__lable\">\n            <input value={url} onChange={handleChangeUrl} id=\"card-url\" className=\"popup__input popup__input_image-url\" type=\"url\" name=\"link\" placeholder=\"Ссылка на картинку\" autoComplete=\"off\" required />\n            <span className=\"popup__error\" id=\"image-error\">Вы пропустили это поле</span>\n          </label>\n        </PopupWithForm>\n    )\n}\n\nexport default AddPlacePopup;","import Main from './Main';\nimport Header from './Header';\nimport Footer from './Footer';\nimport PopupWithForm from './PopupWithForm';\nimport React from 'react';\nimport ImagePopup from './ImagePopup';\nimport api from '../utils/api.js';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\n\nfunction App() {\n\n  const [currentUser, setCurrentUser] = React.useState('#');\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({});\n  const [isImagePopupOpen, setIsImagePopupOpen] = React.useState(false);\n  const [cards, setCards] = React.useState([]);\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n  function closeAllPopups() {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsImagePopupOpen(false);\n  }\n  function handleCardClick(data) {\n    setSelectedCard(data);\n    setIsImagePopupOpen(true);\n  }\n  function handleUpdateUser(data) {\n    api.editUserInfo(data)\n    .then((res) => {\n      setCurrentUser(res)\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n  }\n  function handleUpdateAvatar(data) {\n    api.changeProfileAvatar(data)\n    .then((res) => {\n      setCurrentUser(res)\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n  }\n  function handleAddPlaceSubmit(data) {\n    api.postNewCard(data)\n    .then((res) => {\n      setCards([res, ...cards])\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n  }\n  //Постановка лайка карточке\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n    if (!isLiked) {\n      api.likeToCard(card._id)\n      .then((newCard) => {\n        const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n        setCards(newCards);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n    } else {\n      api.deleteLikeToCard(card._id)\n      .then((newCard) => {\n        const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n        setCards(newCards);\n      })\n      .catch((err) => {\n        console.log(err);\n      }); \n    }\n  }\n  //Удаление карточки\n  function handleCardDelete(card) {\n    const cardIsMine = card.owner._id === currentUser._id;\n    if (cardIsMine) {\n      api.deleteCard(card._id)\n      .then((res) => {\n        const cardFilter = (item) => {\n          if (item._id === card._id) {\n            return false;\n          } else {\n            return true;\n          }\n        }\n        const deletedCard = cards.filter(item => cardFilter(item)); \n          setCards(deletedCard)\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n    }\n  }\n\n    //Получение информации о пользователе\n  React.useEffect(() => {\n    api.getUserInfo()\n    .then((res) => {\n      setCurrentUser(res);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, [])\n\n    //Отрисовка карточек\n  React.useEffect(() => {\n      api.getInitialCards().then((res) => {\n          setCards(res);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, [])\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        <Header  />\n        <Main onEditProfile={handleEditProfileClick} \n          onAddPlace={handleAddPlaceClick}\n          onEditAvatar={handleEditAvatarClick}\n          onCardClick={(data) => handleCardClick(data)}\n          cards={cards}\n          setCards={(data) => setCards(data)}\n          onCardLike={handleCardLike}\n          onCardDelete={handleCardDelete}\n          />\n        <Footer />\n        <EditProfilePopup onUpdateUser={handleUpdateUser} isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} />\n        <EditAvatarPopup onUpdateAvatar={handleUpdateAvatar} isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} />\n        <AddPlacePopup onAddPlace={handleAddPlaceSubmit} isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} />\n        <PopupWithForm title=\"Вы уверены\" name=\"delete-image\" />\n        <ImagePopup onClose={closeAllPopups} isOpen={isImagePopupOpen} card={selectedCard} />\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}